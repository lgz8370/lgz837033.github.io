(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{227:function(e,a,s){e.exports=s.p+"assets/img/pasted-32.763d6868.png"},228:function(e,a,s){e.exports=s.p+"assets/img/pasted-33.ea6f1705.png"},303:function(e,a,s){"use strict";s.r(a);var t=s(0),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("blockquote",[t("p",[t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.0/java-rest-high-getting-started-initialization.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ElasticSearch官网API"),t("OutboundLink")],1)])]),e._v(" "),t("h4",{attrs:{id:"一、elasticsearch是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、elasticsearch是什么"}},[e._v("#")]),e._v(" 一、ElasticSearch是什么?")]),e._v(" "),t("p",[t("code",[e._v("Elasticsearch")]),e._v("也使用Java开发并使用"),t("code",[e._v("Lucene")]),e._v("作为其核心来实现所有索引和搜索的功能，但是它的目的是通过简单的"),t("code",[e._v("RESTful API")]),e._v("来隐藏"),t("code",[e._v("Lucene")]),e._v("的复杂性，从而让全文搜索变得简单。\n不过，"),t("code",[e._v("Elasticsearch")]),e._v("不仅仅是"),t("code",[e._v("Lucene")]),e._v("和全文搜索，我们还能这样去描述它：")]),e._v(" "),t("ul",[t("li",[e._v("分布式的实时文件存储，每个字段都被索引并可被搜索")]),e._v(" "),t("li",[e._v("分布式的实时分析搜索引擎")]),e._v(" "),t("li",[e._v("可以扩展到上百台服务器，处理PB级结构化或非结构化数据\n")])]),e._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.0/java-rest-high-getting-started-initialization.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ElasticSearch官网API"),t("OutboundLink")],1)])]),e._v(" "),t("h4",{attrs:{id:"一、elasticsearch是什么-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、elasticsearch是什么-2"}},[e._v("#")]),e._v(" 一、ElasticSearch是什么?")]),e._v(" "),t("p",[t("code",[e._v("Elasticsearch")]),e._v("也使用Java开发并使用"),t("code",[e._v("Lucene")]),e._v("作为其核心来实现所有索引和搜索的功能，但是它的目的是通过简单的"),t("code",[e._v("RESTful API")]),e._v("来隐藏"),t("code",[e._v("Lucene")]),e._v("的复杂性，从而让全文搜索变得简单。\n不过，"),t("code",[e._v("Elasticsearch")]),e._v("不仅仅是"),t("code",[e._v("Lucene")]),e._v("和全文搜索，我们还能这样去描述它：")]),e._v(" "),t("ul",[t("li",[e._v("分布式的实时文件存储，每个字段都被索引并可被搜索")]),e._v(" "),t("li",[e._v("分布式的实时分析搜索引擎")]),e._v(" "),t("li",[e._v("可以扩展到上百台服务器，处理PB级结构化或非结构化数据")])]),e._v(" "),t("h4",{attrs:{id:"二、docker-部署-elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、docker-部署-elasticsearch"}},[e._v("#")]),e._v(" 二、Docker 部署 ElasticSearch")]),e._v(" "),t("h5",{attrs:{id:"_2-1-拉取镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-拉取镜像"}},[e._v("#")]),e._v(" 2.1 拉取镜像")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker pull docker.elastic.co/elasticsearch/elasticsearch:7.0.0\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h5",{attrs:{id:"_2-2-运行容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-运行容器"}},[e._v("#")]),e._v(" 2.2 运行容器")]),e._v(" "),t("p",[t("code",[e._v("ElasticSearch")]),e._v("的默认端口是9200，我们把宿主环境9200端口映射到"),t("code",[e._v("Docker")]),e._v("容器中的9200端口，就可以访问到"),t("code",[e._v("Docker")]),e._v("容器中的"),t("code",[e._v("ElasticSearch")]),e._v("服务了，同时我们把这个容器命名为es。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('docker run -d --name es -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" <容器ID>\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h5",{attrs:{id:"_2-3-配置跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-配置跨域"}},[e._v("#")]),e._v(" 2.3 配置跨域")]),e._v(" "),t("h6",{attrs:{id:"_2-3-1-进入容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-进入容器"}},[e._v("#")]),e._v(" 2.3.1 进入容器")]),e._v(" "),t("p",[e._v("由于要进行配置，因此需要进入容器当中修改相应的配置信息。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker exec -it es /bin/bash\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h6",{attrs:{id:"_2-3-2-进行配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-进行配置"}},[e._v("#")]),e._v(" 2.3.2 进行配置")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('# 显示文件\nls\n结果如下：\nLICENSE.txt  README.textile  config  lib   modules\nNOTICE.txt   bin             data    logs  plugins\n\n# 进入配置文件夹\ncd config\n\n# 显示文件\nls\n结果如下：\nelasticsearch.keystore  ingest-geoip  log4j2.properties  roles.yml  users_roles\nelasticsearch.yml       jvm.options   role_mapping.yml   users\n\n# 修改配置文件\nvi elasticsearch.yml\n\n# 加入跨域配置\nhttp.cors.enabled: true\nhttp.cors.allow-origin: "*"\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br"),t("span",{staticClass:"line-number"},[e._v("19")]),t("br"),t("span",{staticClass:"line-number"},[e._v("20")]),t("br"),t("span",{staticClass:"line-number"},[e._v("21")]),t("br")])]),t("h5",{attrs:{id:"_2-3-重启容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-重启容器"}},[e._v("#")]),e._v(" 2.3 重启容器")]),e._v(" "),t("p",[e._v("由于修改了配置，因此需要重启"),t("code",[e._v("ElasticSearch")]),e._v("容器。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker restart es\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("展示如下：\n"),t("img",{attrs:{src:s(227),alt:"filename already exists, renamed"}})]),e._v(" "),t("h4",{attrs:{id:"三、docker-部署-elasticsearch-head"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、docker-部署-elasticsearch-head"}},[e._v("#")]),e._v(" 三、Docker 部署 ElasticSearch-Head")]),e._v(" "),t("p",[e._v("为什么要安装"),t("code",[e._v("ElasticSearch-Head")]),e._v("呢，原因是需要有一个管理界面进行查看"),t("code",[e._v("ElasticSearch")]),e._v("相关信息")]),e._v(" "),t("h5",{attrs:{id:"_3-1-拉取镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-拉取镜像"}},[e._v("#")]),e._v(" 3.1 拉取镜像")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker pull mobz/elasticsearch-head:5\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h5",{attrs:{id:"_3-2-运行容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-运行容器"}},[e._v("#")]),e._v(" 3.2 运行容器")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker run -d --name es_admin -p 9100:9100 mobz/elasticsearch-head:5\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("展示如下：\n"),t("img",{attrs:{src:s(228),alt:"filename already exists, renamed"}})]),e._v(" "),t("p",[e._v("这样，我们就完成了用"),t("code",[e._v("Docker")]),e._v("提供"),t("code",[e._v("Elasticsearch")]),e._v("服务，而不污染宿主机环境了，这样还有一个好处，如果想同时启动多个不同版本的"),t("code",[e._v("Elastcsearch")]),e._v("或者其他服务，Docker也是一个理想的解决方案。")]),e._v(" "),t("blockquote",[t("p",[e._v("原文出处:https://www.cnblogs.com/jianxuanbing/p/9410800.html")])])])}),[],!1,null,null,null);a.default=r.exports}}]);