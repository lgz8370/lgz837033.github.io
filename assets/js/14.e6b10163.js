(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{233:function(s,a,e){s.exports=e.p+"assets/img/pasted-26.8947afbd.png"},234:function(s,a,e){s.exports=e.p+"assets/img/pasted-27.f6be840d.png"},317:function(s,a,e){"use strict";e.r(a);var n=e(0),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("环境👇:")]),s._v(" "),n("ul",[n("li",[s._v("CentOS7")])]),s._v(" "),n("p",[s._v("搭建推流服务器~!\n")]),s._v(" "),n("h5",{attrs:{id:"安装nginx-忽略"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx-忽略"}},[s._v("#")]),s._v(" 安装"),n("code",[s._v("Nginx")]),s._v("(忽略)")]),s._v(" "),n("ul",[n("li",[s._v("略")])]),s._v(" "),n("h5",{attrs:{id:"直接进入到nginx的解压目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#直接进入到nginx的解压目录"}},[s._v("#")]),s._v(" 直接进入到"),n("code",[s._v("Nginx")]),s._v("的解压目录")]),s._v(" "),n("p",[s._v("// 参考:这是我目录")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd /usr/local/softs/nginx-1.10.1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("目录下面的内容:")])]),s._v(" "),n("p",[n("img",{attrs:{src:e(233),alt:"filename already exists, renamed"}})]),s._v(" "),n("h5",{attrs:{id:"下载nginx-rtmp-module-并解压"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#下载nginx-rtmp-module-并解压"}},[s._v("#")]),s._v(" 下载"),n("code",[s._v("nginx-rtmp-module")]),s._v(",并解压")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("wget https://github.com/arut/nginx-rtmp-module/archive/master.zip\n\nunzip  master.zip\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h5",{attrs:{id:"先备份nginx-稳点来"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#先备份nginx-稳点来"}},[s._v("#")]),s._v(" 先备份"),n("code",[s._v("Nginx")]),s._v("(稳点来)")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cp objs/nginx /usr/local/nginx/sbin/nginx\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h5",{attrs:{id:"重新配置nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重新配置nginx"}},[s._v("#")]),s._v(" 重新配置"),n("code",[s._v("Nginx")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("./configure --with-http_ssl_module --add-module=/usr/local/softs/nginx-1.10.1/nginx-rtmp-module-master\n\nmake\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("PS: 用"),n("code",[s._v("make")]),s._v(",不要使用"),n("code",[s._v("make install")]),s._v(",不然会覆盖已经添加的模块\n(网上是这么说的,但是好像没有效果,我之前装了"),n("code",[s._v("ssl")]),s._v("模块的,直接就给我覆盖掉了)")]),s._v(" "),n("p",[s._v("因为我之前就加了个"),n("code",[s._v("ssl")]),s._v("模块,所有我直接在配置上加上了,不过之前也有备份")]),s._v(" "),n("h5",{attrs:{id:"将新的nginx覆盖旧安装目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将新的nginx覆盖旧安装目录"}},[s._v("#")]),s._v(" 将新的"),n("code",[s._v("nginx")]),s._v("覆盖旧安装目录")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cp objs/nginx /usr/local/nginx/sbin/nginx\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h5",{attrs:{id:"修改nginx配置文件-nginx-conf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改nginx配置文件-nginx-conf"}},[s._v("#")]),s._v(" 修改"),n("code",[s._v("Nginx")]),s._v("配置文件("),n("code",[s._v("nginx.conf")]),s._v(")")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("rtmp {                #RTMP服务\n    server {\n       listen 1935;  #//服务端口\n       chunk_size 4096;   #//数据传输块的大小\n       application vod {\n           play /opt/video; #//视频文件存放位置。\n       }\n       application live{ #直播\n           live on;\n       }\n   }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("PS: rtmp是一个单独的模块,不要放在"),n("code",[s._v("http")]),s._v("里面")]),s._v(" "),n("h5",{attrs:{id:"重启nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重启nginx"}},[s._v("#")]),s._v(" 重启"),n("code",[s._v("Nginx")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd /usr/local/nginx/sbin\n\n./nginx -s reload\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h5",{attrs:{id:"安装epel-release，因为安装需要使用其他的repo源，所以需要epel支持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装epel-release，因为安装需要使用其他的repo源，所以需要epel支持"}},[s._v("#")]),s._v(" 安装"),n("code",[s._v("EPEL Release")]),s._v("，因为安装需要使用其他的"),n("code",[s._v("repo")]),s._v("源，所以需要EPEL支持")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum install -y epel-release\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h5",{attrs:{id:"安装完成之后，可以查看是否安装成功"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装完成之后，可以查看是否安装成功"}},[s._v("#")]),s._v(" 安装完成之后，可以查看是否安装成功")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum repolist\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h5",{attrs:{id:"安装nux-dextop-源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装nux-dextop-源"}},[s._v("#")]),s._v(" 安装nux-dextop 源")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-1.el7.nux.noarch.rpm\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h5",{attrs:{id:"安装ffmpeg"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装ffmpeg"}},[s._v("#")]),s._v(" 安装"),n("code",[s._v("ffmpeg")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum install -y ffmpeg\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h5",{attrs:{id:"安装完成后检查ffmpeg-版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装完成后检查ffmpeg-版本"}},[s._v("#")]),s._v(" 安装完成后检查ffmpeg 版本")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ffmpeg -version \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:e(234),alt:"filename already exists, renamed"}})]),s._v(" "),n("h5",{attrs:{id:"测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ffmpeg -re -i lgz.mp4 -c copy -f flv rtmp://localhost:1935/live/film\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h5",{attrs:{id:"使用vlc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用vlc"}},[s._v("#")]),s._v(" 使用"),n("code",[s._v("VLC")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("rtmp://{你的服务IP}:1935/live/film\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);